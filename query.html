<!DOCTYPE html>
<html lang="vi">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Liên Hệ</title>
  <link rel="icon" type="image/png" href="images/FootballLogo.png">
  <link rel="stylesheet" href="query.css">
  <script>
    function layGiaTriLuaChon(selectList) {
      return selectList[selectList.selectedIndex].value;
    }
    
    function xacThucForm() {
      function kiemTraEmail(email) {
        return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
      }

      let ten = document.forms["footballQuery"]["name"].value;
      if (!ten.trim()) {
        alert("Vui lòng nhập họ và tên của bạn.");
        return false;
      }

      let email = document.forms["footballQuery"]["email"].value;
      if (!email.trim() || !kiemTraEmail(email)) {
        alert("Vui lòng nhập địa chỉ email hợp lệ.");
        return false;
      }

      let chuDe = document.forms["footballQuery"]["subject"].value;
      if (chuDe === "select") {
        alert("Vui lòng chọn chủ đề phù hợp.");
        return false;
      }

      let chiTiet = document.forms["footballQuery"]["details"].value;
      if (!chiTiet.trim()) {
        alert("Vui lòng cung cấp thông tin chi tiết về yêu cầu của bạn.");
        return false;
      }
    }
  </script>
</head>

<body>
  <section class="sub-header">
    <nav>
      <a href="index.html"><img src="images/FootballLogo.png" alt="Logo"></a>
      <div class="nav-links">
        <ul>
          <li><a href="index.html">TRANG CHỦ</a></li>
          <li><a href="content.html">DANH SÁCH ĐỘI BÓNG</a></li>
          <li><a href="query.html">LIÊN HỆ</a></li>
        </ul>
      </div>
    </nav>
    <h1>LIÊN HỆ VỚI CHÚNG TÔI NẾU BẠN MUỐN VÀO ĐỘI BÓNG =]]]</h1>
  </section>

  <div class="contact-us">
    <form action="mailto:w1633664@westminster.ac.uk" enctype="text/plain" method="post" name="footballQuery">
      <div id="form">
        <label for="name">Họ và Tên</label>
        <input type="text" name="name" id="name" placeholder="Nhập họ và tên">

        <label for="email">Email</label>
        <input type="email" name="email" id="email" placeholder="example@email.com">

        <label for="subject">Chủ đề</label>
        <select name="subject" id="subject">
          <option value="select">Chọn chủ đề yêu cầu</option>
          <option value="Order Updates">Cập nhật đơn hàng</option>
          <option value="Missing Products">Thiếu sản phẩm</option>
          <option value="Review">Đánh giá</option>
          <option value="Other">Khác</option>
        </select>

        <label for="details">Chi tiết</label>
        <textarea name="details" id="details" cols="43" rows="5" placeholder="Nhập chi tiết yêu cầu của bạn"></textarea>

        <button onclick="xacThucForm()" type="button" id="kiemTraThongTin" class="hero-btn">Kiểm tra thông tin</button>
      </div>

      <div id="edit" style="display: none;">
        <p><u>Họ và Tên:</u> <span id="tenHienThi"></span></p>
        <p><u>Email:</u> <span id="emailHienThi"></span></p>
        <p><u>Chủ đề:</u> <span id="chuDeHienThi"></span></p>
        <p><u>Chi tiết:</u> <span id="chiTietHienThi"></span></p>

        <button type="button" id="chinhSuaThongTin" class="hero-btn">Chỉnh sửa</button>
        <button type="submit" class="hero-btn">Gửi yêu cầu</button>
      </div>
    </form>
  </div>

  <script>
    document.getElementById("kiemTraThongTin").addEventListener("click", function () {
      let ten = document.getElementById("name").value.trim();
      let email = document.getElementById("email").value.trim();
      let chuDe = layGiaTriLuaChon(document.getElementById("subject"));
      let chiTiet = document.getElementById("details").value.trim();

      function kiemTraEmail(email) {
        return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
      }

      if (ten && email && chiTiet && kiemTraEmail(email) && chuDe !== "select") {
        document.getElementById("tenHienThi").innerText = ten;
        document.getElementById("emailHienThi").innerText = email;
        document.getElementById("chuDeHienThi").innerText = chuDe;
        document.getElementById("chiTietHienThi").innerText = chiTiet;

        document.getElementById("form").style.display = "none";
        document.getElementById("edit").style.display = "block";
      }
    });

    document.getElementById("chinhSuaThongTin").addEventListener("click", function () {
      document.getElementById("form").style.display = "block";
      document.getElementById("edit").style.display = "none";
    });
  </script>
</body>

</html>
